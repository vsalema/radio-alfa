 <!DOCTYPE html>
<html>
<head>
	<title>ZEN Player</title>
	
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width; initial-scale=1;"> 
    
    <link rel="stylesheet" href="https://simurai.github.io/ZEN-Player/css/style.css">
	<link rel="stylesheet" href="https://simurai.github.io/ZEN-Player/css/footer.css">
	<link rel="stylesheet" href="https://simurai.github.io/ZEN-Player/css/zen.css">

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>   
    <script type="text/javascript" src="https://simurai.github.io/ZEN-Player/js/jquery.rotate.js"></script>
    <script type="text/javascript" src="https://simurai.github.io/ZEN-Player/js/jquery.grab.js"></script> 
    <script type="text/javascript" src="https://simurai.github.io/ZEN-Player/js/jquery.jplayer.min.js"></script>
    
</head>
	
<body>

	<div id="zen">
		<span class="player"></span>
		<span class="circle"></span>
		<span class="progress"></span>
		<span class="buffer"></span>
		<span class="drag"></span>
		<div class="button">
			<span class="icon play"></span>
			<span class="icon pause"></span>
		</div>
	</div>




    <!-- Footer --------------------------------------- -->
    
    <div id="footer">
        
      


	
<!-- Google --------------------------------------- -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-599923-1']);
  _gaq.push(['_setDomainName', 'simurai.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script><!--/ Google -->
<script>
  
  

/*
 *
 * ZEN - HTML5-CSS3 Audio Player
 * by @simurai (simurai.com)
 *
 * Most of this code by: @maboa (happyworm.com)
 * and: @quinnirill (niiden.com/jussi/)
 *
 */



$(document).ready(function () {

  var status = "stop";
  var dragging = false;



  // init

  var player = $("#zen .player");

  player.jPlayer({
    ready: function () {
      $(this).jPlayer("setMedia", {
        m4a: "https://n16a-eu.rcs.revma.com/amrbkhqtkm0uv?rj-ttl=5&rj-tok=AAABjyZZV10A8pNBeIWHkkzM-w",
        mp3: "https://n16a-eu.rcs.revma.com/amrbkhqtkm0uv?rj-ttl=5&rj-tok=AAABjyZZV10A8pNBeIWHkkzM-w",
        oga: "https://n16a-eu.rcs.revma.com/amrbkhqtkm0uv?rj-ttl=5&rj-tok=AAABjyZZV10A8pNBeIWHkkzM-w" });

    },
    swfPath: "",
    supplied: "m4a, mp3, oga" });






  // preload, update, end

  player.bind($.jPlayer.event.progress, function (event) {

    var audio = $('#zen audio').get(0);
    var pc = 0;

    if (audio.buffered != undefined && audio.buffered.length != 0) {
      pc = parseInt(audio.buffered.end(0) / audio.duration * 100, 10);
      displayBuffered(pc);
      //console.log(pc);
      if (pc >= 99) {
        //console.log("loaded");
        $('#zen .buffer').addClass("loaded");
      }
    }

  });

  //player.bind($.jPlayer.event.loadeddata, function(event) {    
  //$('#zen .buffer').addClass("loaded");    
  //});

  player.bind($.jPlayer.event.timeupdate, function (event) {
    var pc = event.jPlayer.status.currentPercentAbsolute;
    if (!dragging) {
      displayProgress(pc);
    }
  });

  player.bind($.jPlayer.event.ended, function (event) {
    $('#zen .circle').removeClass("rotate");
    $("#zen").removeClass("play");
    $('#zen .progress').css({ rotate: '0deg' });
    status = "stop";
  });





  // play/pause

  $("#zen .button").bind('mousedown', function () {
    // not sure if this can be done in a simpler way.
    // when you click on the edge of the play button, but button scales down and doesn't drigger the click,
    // so mouseleave is added to still catch it.
    $(this).bind('mouseleave', function () {
      $(this).unbind('mouseleave');
      onClick();
    });
  });

  $("#zen .button").bind('mouseup', function () {
    $(this).unbind('mouseleave');
    onClick();
  });


  function onClick() {

    if (status != "play") {
      status = "play";
      $("#zen").addClass("play");
      player.jPlayer("play");
    } else {
      $('#zen .circle').removeClass("rotate");
      $("#zen").removeClass("play");
      status = "pause";
      player.jPlayer("pause");
    }
  };




  // draggin

  var clickControl = $('#zen .drag');

  clickControl.grab({
    onstart: function () {
      dragging = true;
      $('#zen .button').css("pointer-events", "none");

    }, onmove: function (event) {
      var pc = getArcPc(event.position.x, event.position.y);
      player.jPlayer("playHead", pc).jPlayer("play");
      displayProgress(pc);

    }, onfinish: function (event) {
      dragging = false;
      var pc = getArcPc(event.position.x, event.position.y);
      player.jPlayer("playHead", pc).jPlayer("play");
      $('#zen .button').css("pointer-events", "auto");
    } });







  // functions

  function displayProgress(pc) {
    var degs = pc * 3.6 + "deg";
    $('#zen .progress').css({ rotate: degs });
  }
  function displayBuffered(pc) {
    var degs = pc * 3.6 + "deg";
    $('#zen .buffer').css({ rotate: degs });
  }

  function getArcPc(pageX, pageY) {
    var self = clickControl,
    offset = self.offset(),
    x = pageX - offset.left - self.width() / 2,
    y = pageY - offset.top - self.height() / 2,
    a = Math.atan2(y, x);

    if (a > -1 * Math.PI && a < -0.5 * Math.PI) {
      a = 2 * Math.PI + a;
    }

    // a is now value between -0.5PI and 1.5PI 
    // ready to be normalized and applied   			
    var pc = (a + Math.PI / 2) / 2 * Math.PI * 10;

    return pc;
  }




});
  
  </script>
<script>
	"use strict"; // Paul Slaymaker, paul25882@gmail.com
const body=document.getElementsByTagName("body").item(0);
body.style.background="#000";
const TP=2*Math.PI;
const CSIZE=400;

const ctx=(()=>{
  let d=document.createElement("div");
  d.style.textAlign="center";
  body.append(d);
  let c=document.createElement("canvas");
  c.width=c.height=2*CSIZE;
  d.append(c);
  return c.getContext("2d");
})();
ctx.setTransform(1,0,0,1,CSIZE,CSIZE);
ctx.globalAlpha=0.7;

onresize=()=>{ 
  let D=Math.min(window.innerWidth,window.innerHeight)-40; 
  ctx.canvas.style.width=ctx.canvas.style.height=D+"px";
}

const getRandomInt=(min,max,low)=>{
  if (low) return Math.floor(Math.random()*Math.random()*(max-min))+min;
  else return Math.floor(Math.random()*(max-min))+min;
}

function Color() {
  const CBASE=159;
  const CT=255-CBASE;
  this.RK1=80+80*Math.random();
  this.GK1=80+80*Math.random();
  this.BK1=80+80*Math.random();
  this.RK2=TP*Math.random();
  this.GK2=TP*Math.random();
  this.BK2=TP*Math.random();
  this.set=()=>{
    let red=Math.round(CBASE+CT*Math.cos(this.RK2+t/this.RK1));
    let grn=Math.round(CBASE+CT*Math.cos(this.GK2+t/this.GK1));
    let blu=Math.round(CBASE+CT*Math.cos(this.BK2+t/this.BK1));
    this.v="rgb("+red+","+grn+","+blu+")";
  }
  this.set();
}

var pauseTS=1000;
var pause=(ts)=>{
  if (stopped) return;
  if (ts<pauseTS) {
    requestAnimationFrame(pause);
  } else {
    requestAnimationFrame(animate);
  }
}

var t=0;
var stopped=true;
var animate=(ts)=>{
  if (stopped) return;
  t++;
  setNormalizedFactors();
  for (let i=0; i<ca.length; i++) { ca[i].set(); }
  draw();
  if (t%400==0) {
    if (t%1600==0) setK1a();
    pauseTS=performance.now()+3200;
    requestAnimationFrame(pause);
  } else {
    requestAnimationFrame(animate);
  }
}

var start=()=>{
  if (stopped) {
    stopped=false;
    requestAnimationFrame(animate);
  } else {
    stopped=true;
  }
}
ctx.canvas.addEventListener("click", start, false);

const count=5; //getRandomInt(4,7);
let ca=new Array(count);
for (let i=0; i<count; i++) { ca[i]=new Color(); }

onresize();

var K1a=new Array(count);
var setK1a=()=>{
  let sum=0;
  for (let i=0; i<K1a.length; i++) { 
    if (Math.random()<0.5) K1a[i]=800;
    else K1a[i]=1600;
    sum+=K1a[i];
  }
  if (sum==count*1600 || sum==count*800) K1a=[1600, 800, 1600, 800, 1600];
}
setK1a();

var kxa=new Array(count);

const setNormalizedFactors=()=>{
  let sum=0;
  for (let i=0; i<count; i++) {
    kxa[i]=(1+Math.cos(TP*t/K1a[i]))/2;
    sum+=kxa[i];
  }
  for (let i=0; i<count; i++) kxa[i]=kxa[i]/sum;
}
setNormalizedFactors();

var pa=new Array(count);

var setPath=(idx,x,y,a,dir)=>{
  if (idx>count-1) return;
  pa[idx].moveTo(x,y);
  let l2=kxa[idx]*CSIZE;
  let x2=x+l2*Math.cos(a);
  let y2=y+l2*Math.sin(a);
  if (dir) {
    pa[idx].arc(x2,y2,l2,a-TP/2,a+TP/4,dir);
  } else {
    pa[idx].arc(x2,y2,l2,a+TP/2,a+3*TP/4,dir);
  }
  let x3=x2+l2*Math.cos(a+3*TP/4);
  let y3=y2+l2*Math.sin(a+3*TP/4);
  let x4=x2+l2*Math.cos(a+TP/4);
  let y4=y2+l2*Math.sin(a+TP/4);
  if (dir) {
    setPath(idx+1,x4,y4,a+TP/4,false);
    setPath(idx+1,x4,y4,a-TP/4,true);
  } else {
    setPath(idx+1,x3,y3,a+TP/4,false);
    setPath(idx+1,x3,y3,a-TP/4,true);
  }
}

var draw=()=>{
  for (let i=0; i<count; i++) pa[i]=new Path2D();
  for (let i=0; i<4; i++) {
    setPath(0,0,0,i*TP/4,i%2);
    setPath(0,0,0,i*TP/4,!(i%2));
  }
  for (let i=pa.length-1; i>=0; i--) {
    ctx.lineWidth=6;
    ctx.strokeStyle="#00000020";
    ctx.stroke(pa[i]);
    ctx.lineWidth=4;
    ctx.strokeStyle=ca[i].v;
    ctx.stroke(pa[i]);
  }
}

start();
</script>
</body>
</html>
  
  

 
  
  
